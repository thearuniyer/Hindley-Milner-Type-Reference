#ifndef __PARSER__H__
#define __PARSER__H__

#include <iostream>
#include <istream>
#include <vector>
#include <string>
#include <cctype>
#include <stdlib.h>
#include <string.h>
#include <algorithm>

#include "inputbuf.h"
#include "lexer.h"

struct sTableEntry
{
  std::string name;
  int lineNo;
  int type;
  int printed;
};

struct sTable
{
  sTableEntry* item;
  sTable *prev;
  sTable *next;
};

class Parser{
public:
  int parse_program();
  int parse_global_vars();
  int parse_var_decl_list();
  int parse_var_decl();
  int parse_var_list();
  int parse_type_name();
  int parse_body();
  int parse_stmt_list();
  int parse_stmt();
  int parse_assign_stmt();
  int parse_expr();
  int parse_unary_operator();
  int parse_binary_operator();
  int parse_primary();
  int parse_if_stmt();
  int parse_while_stmt();
  int parse_switch_stmt();
  int parse_case_list();
  int parse_case();
};

void addList(std::string n, int ln, int t);
int searchList(std::string n);
void updateTypes(int lhs, int rhs);

#endif  //__PARSER__H__
